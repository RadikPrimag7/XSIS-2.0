<html>
<body>

<form action="/pengalaman/save" method="post">
<input type="text" name="id" th:value="${data.id}" style="display:none">
	<div class="modal-header">
		<h3 class="modal-title">Edit Pengalaman Kerja</h3>
		<button type="button" class="close" data-dismiss="modal"
			aria-label="close">
			<span aria-hidden="true">&times;</span>
		</button>
	</div>
	<div class="modal-body">
		<div class="container">
			<div class="row">
				<div class="row col-6">

					<div class="col-12">
						<label>Nama Perusahaan/Instansi *</label> <input type="text"
							name="companyName" th:value="${data.companyName}"class="form-control" required>
					</div>

					<div class="col-6">
						<label>Waktu Masuk *</label> 
							<select type="text" name="joinMonth" class="form-control">
						 	<option th:each="i:${#numbers.sequence(1,12)}" th:value="${i}" th:text="${i}" th:selected="${i+''==data.joinMonth}"/>
						 </select>
					</div>

					<div class="col-6">
						<label><br></label>
						<select id="joinYear" name="joinYear" class="form-control">
						<option th:each="i:${#numbers.sequence(1999,2019)}" th:value="${i}" th:text="${i}" th:selected="${i+''==data.joinYear}"/>
						</select>
					</div>

					<div class="col-12">
						<label>Posisi Terakhir *</label> <input type="text"
							name="lastPosition" th:value="${data.lastPosition}" class="form-control">
					</div>

					<div class="col-12">
						<input type="checkbox" id="isItRelated" name="isItRelated" th:checked="${data.isItRelated}" > IT Related ?
					</div>

				</div>

				<div class="row col-6">

					<div class="col-6">
						<label>Kota</label> <input type="text" name="city"
							th:value="${data.city}" class="form-control">
					</div>

					<div class="col-6">
						<label>Negara</label> <input type="text" name="country"
							th:value="${data.country}" class="form-control">
					</div>

					<div class="col-6">
						<label>Waktu Keluar *</label> 
						<select name="resignMonth" class="form-control">
							<option th:each="i:${#numbers.sequence(1,12)}" th:value="${i}" th:text="${i}" th:selected="${i+''==data.resignMonth}"/>
						</select>
					</div>

					<div class="col-6">
						<label><br></label> 
						<select id="resignYear" name="resignYear" class="form-control">
							<option th:each="i:${#numbers.sequence(1999,2019)}" th:value="${i}" th:text="${i}" th:selected="${i+''==data.resignYear}"/>
						</select>
					</div>

					<div class="col-12">
						<label>Penghasilan Terakhir (IDR)</label> <input type="text"
							name="income" th:value="${data.income}" class="form-control">
					</div>

				</div>

			</div>
			<br>
			<div class="row col-12">
				<div class="col-12">
					<label>Keterangan Singkat Mengenai Pekerjaan</label>
					<textarea name="aboutJob" th:text="${data.aboutJob}" class="form-control"></textarea>
				</div>
				<div class="col-12">
					<label>Alasan Keluar</label> <input type="text" name="exitReason"
						th:value="${data.exitReason}" class="form-control">
				</div>
				<div class="col-12">
					<label>Catatan</label>
					<textarea name="notes" th:text="${data.notes}" class="form-control"></textarea>
				</div>

				
			</div>
			<div class="form-group-row">
					<div class="col-3 offset-9">
						<a href="pengalaman"><button type="button" class="btn btn-warning float-right">Batal</button></a>
						<button type="submit" class="btn btn-primary float-right">Simpan</button>
					</div>
			</div>
		</div>

	</div>
</form>

<script type="text/javascript">

	$("#joinMonth, #joinYear").change(function() {
	    if ($("#joinMonth, #joinYear").val() != "" || null) {
	        $("#resignMonth, #resignYear").prop("disabled", false);
	    }
	    else
	        $("#resignMonth, #resignYear").prop("disabled", true);
	});

	//Select tahun down
	var max1 = new Date().getFullYear();
	min1 = max1-20,
	select1 = document.getElementById('joinYear');
	
	var opt1 = document.createElement('option');
	opt1.value = "";
	opt1.innerHTML = "- Pilih Tahun -";
	select1.appendChild(opt1);
	for (var i = max1; i>=min1; i--){
		var opt1 = document.createElement('option');
		opt1.value = i;
		opt1.innerHTML = i;
		select1.appendChild(opt1);
	}
	

	$("#joinYear").change(function() {
	    if ($("#joinYear").val() != "" || null) {
	    	var max2 = new Date().getFullYear();
	    	min2 = $("#joinYear").val(),
	    	select2 = document.getElementById('resignYear');
	     	
	     	var opt2 = document.createElement('option');
	     	
	     	select2.appendChild(opt2);
	     	for (var j = max2; j>=min2; j--){
	     		var opt2 = document.createElement('option');
	     		opt2.value = j;
	     		opt2.innerHTML = j;
	     		select2.appendChild(opt2);
	     	}
	    }
	});
	
	
</script>
</body>
</html>
